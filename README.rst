===================================================
countries_lib_server - нормализация названия страны
===================================================

--------
Описание
--------

Данный проект представляет собой Docker контейнер веб-сервиса, предназначенного для нормализации (нахождения корректного) 
названия страны.

---------
Установка
--------- 

Docker Image расположен по адресу https://hub.docker.com/r/alekseypauls/countries_lib_server/

Команда запуска (первый порт можно изменить): docker run -p 8888:5000 alekseypauls/countries_lib_server

Загрузка образа: docker pull alekseypauls/countries_lib_server

----------------------
Поддерживаемые запросы
----------------------

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Нормализация страны - normalize_country_name
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Функция имеет вид: **normalize_country_name(url, posname, dif_acc=0.7)**

Принимает на вход два обязательных аргумента: **url** типа **string** - адрес сервера, **posname** (от “possible name”) типа 
**string** - нормализуемое название, и один необязательный - **dif_acc** (от difference accuracy) типа **float** - 
параметр точности при поиске подходящего ключа в библиотеке, принимающий значения от **0.0** до **1.0** 
(по умолчанию - **0.7**).

Выдает строку типа **string**, содержащую либо общее название страны, либо ‘None’, если выполнение прошло успешно. Если было 
вызвано исключение, то строка содержит **‘DatabaseError’** (это означает, что не найдена корректная база данных по пути из 
переменной **DB_PATH**) или **‘Invalid argument type’**, если хотя бы один из аргументов задан неправильно (имеет 
некорректный тип или значение).

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Добавление возможного названия страны - match_country_name
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Функция имеет вид: **match_country_name(url, key, value, priority=2)**

Принимает на вход три обязательных аргумента **url**, **key** и **value** типа **string** - адрес сервера, возможное и 
корректное названия соответственно, и один необязательный - **priority** типа **int** - приоритет ключа, принимающий 
значения **1** или **2** (по умолчанию - **2**) и определяющий, что содержится в ключе: название, сокращение, индекс или 
перевод названия страны, если приоритет равен **1**, и все остальное, если приоритет равен **2**. Так как большинство ключей, 
подходящих под приоритет **1**, уже в базе, то возможно задать приоритет по умолчанию равный **2**. 

Выдает строку **'Invalid argument type'** типа **string** , если хотя бы один из аргументов задан неправильно (имеет 
некорректный тип или значение), строку **'DatabaseError'**, если произошла ошибка во время открытия базы данных по пути 
из переменной **DB_PATH**, и **Success** если добавление прошло успешно.


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Удаление возможного названия страны - del_country_name
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Функция имеет вид: **del_country_name(url, key)**

Принимает на вход два обязательных аргумента **url** и **key** типа **string** - адрес сервера и возможное название, которое 
нужно удалить из базы данных, соответсвтенно.

Выдает строку **'Invalid argument type'** типа **string** , аргумент задан неправильно (имеет некорректный тип или значение), 
строку **'DatabaseError'**, если произошла ошибка во время открытия базы данных по пути из переменной **DB_PATH**, и **Success**, если удаление прошло успешно.

----------
Применение
----------

Чтобы получить доступ к функционалу сервера необходимо:

#. Установить пакет-клиент - https://github.com/AlekseyPauls/countries_lib_client

#. Запустить docker-контейнер

#. Импортировать библиотеку **countries_lib_client** (from countries_lib_client.country_client import normalize_country_name, match_country_name, del_country_name) и использовать адрес запущенного сервера как аргумент **url** в вышеприведенных функциях.

